{% extends 'accounts/base.html' %}
{% load static %}

{% block content %}

<!-- Hero Section with Carousel -->
<div id="heroCarousel" class="carousel slide my-5" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
    </div>

    <div class="carousel-inner rounded-4 shadow-lg">
        <div class="carousel-item active">
            <img src="{% static 'images/exam2.png' %}" class="d-block w-100" alt="Welcome 1"
                style="height: 80vh; object-fit: cover;">
            <div class="carousel-caption d-none d-md-block text-dark bg-light bg-opacity-75 rounded-3 p-3">
                <h1 class="fw-bold">🚀 Welcome to Online Exam Portal</h1>
                <p>Conduct exams effortlessly, automate grading & deliver instant results.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{% static 'images/exam.png' %}" class="d-block w-100" alt="Welcome 2"
                style="height: 80vh; object-fit: cover;">
            <div class="carousel-caption d-none d-md-block text-dark bg-light bg-opacity-75 rounded-3 p-3">
                <h1 class="fw-bold">📝 Create Exams Easily</h1>
                <p>Teachers can create, edit & manage exams with just a few clicks.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="https://img.freepik.com/premium-vector/abstract-technology-communication-geometric-concept-vector-background_998335-202.jpg"
                class="d-block w-100" alt="Welcome 3" style="height: 80vh; object-fit: cover;">
            <div class="carousel-caption d-none d-md-block text-dark bg-light bg-opacity-75 rounded-3 p-3">
                <h1 class="fw-bold">⚡ Instant & Secure</h1>
                <p>Real-time evaluation with top-notch data security.</p>
            </div>
        </div>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>

<!-- Features Section -->
<div class="container my-5 text-center">
    <h2 class="fw-bold mb-4">🌟 Why Choose Us?</h2>
    <div class="row g-4">
        <div class="col-md-4">
            <div class="card shadow-lg border-0 h-100 feature-card">
                <div class="card-body">
                    <h5 class="fw-bold">📚 Easy Exam Creation</h5>
                    <p>Create & manage exams effortlessly through an intuitive interface.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-lg border-0 h-100 feature-card">
                <div class="card-body">
                    <h5 class="fw-bold">⏱️ Instant Results</h5>
                    <p>Automated grading provides immediate feedback and insights.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-lg border-0 h-100 feature-card">
                <div class="card-body">
                    <h5 class="fw-bold">🔐 Secure & Reliable</h5>
                    <p>Advanced security ensures exam safety and data privacy.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Latest Exams with Pagination -->
<div class="container my-5">
    <h2 class="text-center fw-bold mb-4">📝 Latest Exams</h2>
    <div class="row g-4 justify-content-center">
        {% for exam in page_obj %}
        <div class="col-md-4">
            <div class="card h-100 shadow-lg border-0 exam-card">
                <div class="card-body text-center">
                    <h5 class="card-title fw-bold">{{ exam.title }}</h5>
                    <p class="card-text text-muted">{{ exam.description|truncatewords:20 }}</p>
                    <a href="{% url 'exam_instructions' exam.id %}" class="btn btn-primary w-100">
                        🚀 Attempt Exam
                    </a>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center text-muted">No exams available yet. Please check back later.</p>
        {% endfor %}
    </div>

    <!-- Pagination -->
    <nav aria-label="Page navigation example" class="mt-4">
        <ul class="pagination justify-content-center">
            {% if page_obj.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page=1">&laquo; First</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
            </li>
            {% endif %}

            <li class="page-item disabled">
                <span class="page-link">{{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</span>
            </li>

            {% if page_obj.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>
            </li>
            {% endif %}
        </ul>
    </nav>
</div>

<style>
    /* Hover effect for feature cards */
    .feature-card:hover {
        transform: translateY(-8px);
        transition: 0.3s ease-in-out;
        background: #f8f9fa;
    }

    /* Exam cards hover */
    .exam-card:hover {
        transform: scale(1.03);
        transition: 0.3s ease-in-out;
        border: 2px solid #0d6efd;
    }
</style>

{% endblock %}
